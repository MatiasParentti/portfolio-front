@defer (on viewport) {

<div class="experience">
    <div class="about">

        <div class="headerEdit">

            <div class="titleSection">
                <h4>Experiencia</h4><img
                    src="data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' stroke='%23e6770b' fill='none' stroke-linecap='round' stroke-width='1.5' stroke-linejoin='round'%3e%3cpath stroke='none' d='M0 0h24v24H0z' fill='none'/%3e%3crect x='3' y='7' width='18' height='13' rx='2' /%3e%3cpath d='M8 7v-2a2 2 0 0 1 2 -2h4a2 2 0 0 1 2 2v2' /%3e%3cline x1='12' y1='12' x2='12' y2='12.01' /%3e%3cpath d='M3 13a20 20 0 0 0 18 0' /%3e%3c/svg%3e"
                    alt="">
            </div>
            @if (isAdmin) {
            @if (!editExp) {
            <div type="button" class="editCont" (click)="toggleNewExp()">
                <img src="data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' stroke='black' fill='none' stroke-linecap='round' stroke-width='1.5' stroke-linejoin='round'%3e%3cpath stroke='none' d='M0 0h24v24H0z' fill='none'/%3e%3ccircle cx='12' cy='12' r='9' /%3e%3cline x1='9' y1='12' x2='15' y2='12' /%3e%3cline x1='12' y1='9' x2='12' y2='15' /%3e%3c/svg%3e"
                    alt="">
            </div>
            }
            }


        </div>

        <div class="entry"></div>

        @if (newExp || editExp) {


        <div class="exp" id="newExperience">
            <form [formGroup]="form" (ngSubmit)="onSubmit($event, editExp)">
                <div class="list-group">
                    <div class="list-group-item list-group-item-action target">
                        <div class="d-flex w-100 justify-content-between header">
                            <div class="head">
                                <div>
                                </div>

                                <div class="mb-1 inputs">
                                    <label for="newCargo" class="form-label">Cargo
                                    </label>
                                    <input type="text" class="form-control" id="newCargo" placeholder="Cargo"
                                        aria-describedby="newCargo" formControlName="cargo"
                                        [ngStyle]="style().getInputStyle(positionControl)">
                                    @if (positionControl?.errors && positionControl?.touched) {
                                    @if (positionControl?.hasError('required')) {
                                    <p class="error mt-1">
                                        El Cargo es requerido.
                                    </p>
                                    }@else if (positionControl?.hasError('required')) {
                                    <p class="error mt-1">
                                        El Cargo debe ser de 5 o más caracteres.
                                    </p>
                                    }@else if (positionControl?.errors?.['maxlength']) {
                                    <p class="error mt-1">
                                        El Cargo debe ser menor a 12 caracteres.
                                    </p>
                                    }
                                    }

                                </div>

                            </div>

                            <div class="mb-1 inputs">
                                <label for="newFecha" class="form-label"><small>Fecha
                                    </small>
                                </label>
                                <input placeholder="desde-hasta" formControlName="fecha"
                                    [ngStyle]="style().getInputStyle(dateControl)" type="text" class="form-control"
                                    id="newFecha" aria-describedby="newFecha">
                                @if (dateControl?.errors && dateControl?.touched) {
                                @if (dateControl?.hasError('required')) {
                                <p class="error mt-1">
                                    Fecha es requerido. 2222-2222
                                </p>
                                }@else if (dateControl?.errors?.['minlength']) {
                                <p class="error mt-1">
                                    El Fecha debe ser de 9 caracteres.
                                </p>
                                }@else if (dateControl?.errors?.['maxlength']) {

                                <p class="error mt-1">
                                    El Fecha debe ser menor a 10 caracteres.
                                </p>
                                }


                                }



                            </div>

                        </div>

                        <div class="mb-1 inputs">
                            <label for="newTareas" class="form-label">Tareas
                            </label>
                            <input [ngStyle]="style().getInputStyle(tasksControl)" type="text" class="form-control"
                                id="newTareas" placeholder="Tareas" formControlName="tareas"
                                aria-describedby="newTareas">
                            @if (tasksControl?.errors && tasksControl?.touched) {
                            @if (tasksControl?.hasError('required')) {
                            <p class="error mt-1">
                                Tareas es requerido.
                            </p>
                            }@else if (tasksControl?.errors?.['minlength']) {
                            <p class="error mt-1">
                                El Fecha debe ser de 5 o más caracteres.
                            </p>
                            }@else if (tasksControl?.errors?.['maxlength']) {
                            <p class="error mt-1">
                                El Fecha debe ser menor a 12 caracteres.
                            </p>
                            }






                            }



                        </div>


                        <div class="expEdit">
                            <div class="mb-1 inputs">
                                <label for="newEmpresa" class="form-label">Empresa
                                </label>
                                <input type="text" class="form-control"
                                    [ngStyle]="style().getInputStyle(companyControl)" type="text" class="form-control"
                                    id="newEmpresa" placeholder="Empresa" formControlName="empresa"
                                    aria-describedby="newEmpresa">
                                @if (companyControl?.errors && companyControl?.touched) {

                                @if (companyControl?.hasError('required')) {
                                <p class="error mt-1">
                                    Empresa es requerido.</p>
                                }@else if(companyControl?.errors?.['minlength']){
                                <p class="error mt-1">
                                    Empresa debe ser de 5 o más caracteres.</p>
                                }@else if(companyControl?.errors?.['maxlength']){
                                <p class="error mt-1">
                                    Empresa debe ser menor a 12 caracteres. </p>
                                }

                                }

                            </div>
                        </div>

                        <div class="btnsEdit">
                            <button class="button">
                                <div (click)="cancel()">
                                    <p>Cancelar</p>
                                    <img src="data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' stroke='black' fill='none' stroke-linecap='round' stroke-width='1.5' stroke-linejoin='round'%3e%3cpath stroke='none' d='M0 0h24v24H0z' fill='none'/%3e%3ccircle cx='12' cy='12' r='9' /%3e%3cpath d='M10 10l4 4m0 -4l-4 4' /%3e%3c/svg%3e"
                                        alt="">
                                </div>
                            </button>
                            <button class="button" type="submit">
                                <div>
                                    <p>Guardar</p>
                                    <img src="data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' stroke='black' fill='none' stroke-linecap='round' stroke-width='1.5' stroke-linejoin='round'%3e%3cpath stroke='none' d='M0 0h24v24H0z' fill='none'/%3e%3ccircle cx='12' cy='12' r='9' /%3e%3cpath d='M9 12l2 2l4 -4' /%3e%3c/svg%3e"
                                        alt="">
                                </div>
                            </button>
                        </div>


                    </div>
                </div>
            </form>
        </div>





        }@else {

        <div class="exp">

            @if (!editExp) {

            <div class="list-group">
                @for (experience of Experience; track $index) {
                <div class="list-group-item list-group-item-action target">
                    <div class="row">
                        @if (isAdmin) {
                        <div class="col-1 delete" (click)="delete(experience.id, experience.cargo,experience.empresa)">
                            <img src="data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' stroke='black' fill='none' stroke-linecap='round' stroke-width='1.5' stroke-linejoin='round'%3e%3cpath stroke='none' d='M0 0h24v24H0z' fill='none'/%3e%3cline x1='4' y1='7' x2='20' y2='7' /%3e%3cline x1='10' y1='11' x2='10' y2='17' /%3e%3cline x1='14' y1='11' x2='14' y2='17' /%3e%3cpath d='M5 7l1 12a2 2 0 0 0 2 2h8a2 2 0 0 0 2 -2l1 -12' /%3e%3cpath d='M9 7v-3a1 1 0 0 1 1 -1h4a1 1 0 0 1 1 1v3' /%3e%3c/svg%3e"
                                alt="">
                        </div>
                        }


                        <div class="col">
                            <div class="d-flex w-100 justify-content-between header">
                                <div class="head">

                                    <h5 class="mb-1">{{ experience.cargo }}</h5>
                                </div>
                                <small>{{ experience.fecha }}</small>
                            </div>

                            <p class="mb-1">{{ experience.tareas }}</p>


                            <div class="expEdit">
                                <small>{{ experience.empresa }}</small>
                                @if (isAdmin) {
                                <div type="button" (click)="edit(experience.id)">
                                    <img src="data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' stroke='black' fill='none' stroke-linecap='round' stroke-width='1.5' stroke-linejoin='round'%3e%3cpath stroke='none' d='M0 0h24v24H0z' fill='none'/%3e%3cpath d='M9 7h-3a2 2 0 0 0 -2 2v9a2 2 0 0 0 2 2h9a2 2 0 0 0 2 -2v-3' /%3e%3cpath d='M9 15h3l8.5 -8.5a1.5 1.5 0 0 0 -3 -3l-8.5 8.5v3' /%3e%3cline x1='16' y1='5' x2='19' y2='8' /%3e%3c/svg%3e"
                                        alt="">
                                </div>
                                }

                            </div>
                        </div>
                    </div>
                </div>
                }
            </div>
            }


        </div>


        }

    </div>
</div>

}@placeholder {

<div class="studio">
    <p>Cargando...</p>
</div>

}